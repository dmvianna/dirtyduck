model_comment: 'inspections'

temporal_config:
  beginning_of_time: '2010-01-04' # earliest date included in features
  modeling_start_time: '2014-01-01' # earliest date in any model
  modeling_end_time: '2017-01-01' # all dates in any model are < this date

  update_window: '3 month' # how frequently to retrain models

  train_example_frequency: '1 d' # time between rows for same entity in train matrix
  train_durations: ['1 y'] # length of time included in a train matrix
  train_label_windows: ['1 month'] # time period across which outcomes are labeled in train matrices

  test_example_frequency: '1 d' # time between rows for same entity in test matrix
  test_durations: ['1 d'] # length of time included in a test matrix
  test_label_windows: ['3 month'] # time period across which outcomes are labeled in test matrices

events_table: 'inspections_events'

feature_aggregations:
  -
    # prefix given to the resultant tables
    prefix: 'violations'
    from_obj: 'cleaned.violations'
    knowledge_date_column: 'knowledge_date'
    aggregates:
      -
        quantity: 'violation_code'
        metrics:
          - 'count'
    intervals:
      - '1 year'
    groups:
      - 'entity_id'

feature_group_strategies: ['all']

model_group_keys: []

grid_config:
    'sklearn.tree.DecisionTreeClassifier':
        criterion: ['gini']
        max_depth: [3]
        min_samples_split: [10]

scoring:
  metric_groups:
    -
      metrics: ['precision@', 'recall@', 'fpr@']
      thresholds:
        percentiles: [1.0, 2.0, 5.0, 10.0, 25.0]
        top_n: [25, 75, 150, 300, 500, 1000, 1500]
